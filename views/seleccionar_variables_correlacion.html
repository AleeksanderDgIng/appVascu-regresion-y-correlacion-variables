{% extends "base.html" %}
{% block content %}
<div class="container mt-4">
    <h2 class="mb-4">Seleccionar variables para Correlación en la tabla {{ table_name }}</h2>

    <form method="POST" action="{{ url_for('mostrar_mapa_de_calor', table_name=table_name) }}">
        <div class="row">
            {% for column in columns %}
                <div class="col-md-3 mb-3">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" name="selected_columns" value="{{ column }}" id="{{ column }}">
                        <label class="form-check-label" for="{{ column }}">
                            {{ column }}
                        </label>
                    </div>
                </div>
            {% endfor %}
        </div>
        <div class="d-flex justify-content-center">
            <button type="submit" class="btn btn-lg btn-success">Correlación</button>
        </div>
    </form>
    
    <h3 class="mt-4">Registros de la tabla {{ table_name }}:</h3>

    <a href="{{ url_for('crear_registro', table_name=selected_table) }}" class="btn btn-success mb-3">Crear Registros</a>

    <table class="table table-striped table-bordered">
        <thead class="table-dark">
            <tr>
                {% for column in columns %}
                    <th>{{ column }}</th>
                {% endfor %}
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
            {% for record in records %}
                <tr>
                    <td>{{ record[0] }}</td>
                    {% for value in record[1:] %}
                        <td>{{ value }}</td>
                    {% endfor %}
                    <td>
                        <a href="/editar/{{ selected_table }}/{{ record[0] }}" class="btn btn-primary">Editar</a>
                        <a href="/eliminar/{{ selected_table }}/{{ record[0] }}" class="btn btn-danger">Eliminar</a>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
