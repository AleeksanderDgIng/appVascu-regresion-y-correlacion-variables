<!-- views/index.html -->

<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css">
    <link rel="stylesheet" href="/static/css/estilos.css">
    <title>Inversiones Vascu S.A.S</title>
</head>

<body id="body-pd" class="bg-light">
    
    <header class="header d-flex align-items-center justify-content-between" id="header">
        <h4 class="mb-0 text-light">Prototipo de análisis de datos Inversiones Vascu S.A.S</h4>
    </header>



    <div class="l-navbar" id="nav-bar">
        <nav class="nav">
            <div>

                <a href="#" class="nav_logo">
                    <img src="{{ url_for('static', filename='image/logoVascu.png') }}" alt="Logo" class="nav_logo-img">
                </a>
                <div class="nav_list">
                    <a href="{{ url_for('seleccionar_tabla', action='seleccion') }}" class="nav_link" data-target="seleccion">
                        <i class='bx bx-bar-chart-alt-2 nav_icon'></i>
                        <span class="nav_name">Predictivo</span>
                    </a>
                    
                    <!-- Agrega este código en tu plantilla del menú -->
                    <a href="{{ url_for('ver_datos') }}" class="nav_link" data-target="ver-datos">
                        <i class='bx bx-cloud-upload nav_icon'></i>
                        <span class="nav_name">ETL Datos</span>
                    </a>

                    <a href="" class="nav_link">
                        <i class='bx bxs-data nav_icon'></i>
                        <span class="nav_name">Gestión de datos</span>
                    </a>

                </div>
            </div>
            <a href="#" class="nav_link">
                <i class='bx bx-log-out nav_icon'></i>
                <span class="nav_name">SignOut</span>
            </a>
        </nav>
    </div>

    <!-- Container Main start -->
    <div class="height-100 pt-xl-3">
     <br>

        <!-- Mensaje de éxito o error -->
        {% if success_message %}
        <div class="alert alert-success mt-3">
            {{ success_message }}
        </div>
        {% endif %}
        {% if error_message %}
        <div class="alert alert-danger mt-3">
            {{ error_message }}
        </div>
        {% endif %}

        <!-- Opciones de "Hacer Correlación" -->
        <div id="correlacion-options" style="display: none;">
            <h3>Opciones para Hacer Correlación</h3>
        </div>

        <!-- Opciones de "Hacer Regresión Lineal" -->
        <div id="regresion-options" style="display: none;">
            <h3>Opciones para Hacer Regresión Lineal</h3>
        </div>

        <!-- Contenido de la página -->
        <main class="mt-3">
            {% block content %}{% endblock %}
        </main>
        <!-- Container Main end -->
    </div>
    <script>
        // Inicializar Popovers al cargar la página
        document.addEventListener('DOMContentLoaded', function () {
            var popoverTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]'));
            var popoverList = popoverTriggerList.map(function (popoverTriggerEl) {
                return new bootstrap.Popover(popoverTriggerEl);
            });
        });
    </script>
    
    <script>
        $(document).ready(function () {
            $('[data-toggle="popover"]').popover();
    
            // Para cerrar otros Popovers cuando se abre uno nuevo
            $('body').on('click', function (e) {
                $('[data-toggle="popover"]').each(function () {
                    // Oculta cualquier popover si se hace clic en otro lugar de la página
                    if (!$(this).is(e.target) && $(this).has(e.target).length === 0 && $('.popover').has(e.target).length === 0) {
                        $(this).popover('hide');
                    }
                });
            });
        });
    </script>
    
    <script src="/static/js/acciones.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
</body>

</html>
